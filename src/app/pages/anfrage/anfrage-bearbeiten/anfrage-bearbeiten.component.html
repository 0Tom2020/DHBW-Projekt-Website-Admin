<!--Beginn: Header-->
<section class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1>{{title}}</h1>
      </div>
      <div class="col-sm-6">
        <app-breadcrumb class="float-right" [items]="breadcrumbItems"></app-breadcrumb>
      </div>
    </div>
  </div>
</section>
<!--End: Header-->

<section class="content">
  <form [formGroup]="inquiry">
  <div class="row">
    <div class="col-md-6">

      <div class="card card-secondary">
        <div class="card-header">
          <h3 class="card-title">Daten zur Person</h3>
        </div>

        <div class="card-body">
          <div class="form-group">
            <label for="inputName">Vorname</label>
            <input type="text" id="inputName" class="form-control" formControlName="name" disabled>
          </div>
          <div class="form-group">
            <label for="inputLastname">Nachname</label>
            <input type="text" id="inputLastname" class="form-control" formControlName="lastName" disabled>
          </div>
          <div class="form-group">
            <label for="inputEmail">Email</label>
            <input type="text" id="inputEmail" class="form-control" formControlName="email" disabled>
          </div>
          <div class="form-group">
            <label for="inputStreet">Straße</label>
            <input type="text" id="inputStreet" class="form-control" formControlName="street" disabled>
          </div>
          <div class="form-group">
            <label for="inputPostal">Postleitzahl</label>
            <input type="text" id="inputPostal" class="form-control" formControlName="postal" disabled>
          </div>
          <div class="form-group">
            <label for="inputCity">Ort</label>
            <input type="text" id="inputCity" class="form-control" formControlName="city" disabled>
          </div>
        </div>
      </div>

    </div>
    <div class="col-md-6">

      <div class="card card-secondary">
        <div class="card-header">
          <h3 class="card-title">Beschreibung der Werkstücke</h3>
        </div>
        <div class="card-body">
          <div class="form-group">
            <textarea id="inputDescription" class="form-control" rows="6" formControlName="description" disabled></textarea>
          </div>
        </div>
      </div>


      <div class="card card-secondary">
        <div class="card-header">
          <h3 class="card-title">Zeitliche Informationen</h3>
        </div>
        <div class="card-body">
          <div class="form-group">
            <label for="inputLevy">Abgabe der Teile</label>
            <input id="inputLevy" class="form-control" formControlName="levy" disabled>
          </div>
          <div class="form-group">
            <label for="inputDeadline">Gewünschter Liefertermin</label>
            <input id="inputDeadline" class="form-control" formControlName="deadline" disabled>
          </div>
        </div>
      </div>


    </div>
  </div>
  </form>

  <div class="row">
    <div class="col">

      <div class="card card-secondary">
        <div class="card-header">
          <h3 class="card-title">Erstellte Angebote</h3>
        </div>
        <div class="card-body">

          <div class="card w-100" *ngFor="let offer of offers">
            <div class="card-header">
              <h3 class="card-title">

                <div *ngIf="offer.accepted === null" title="Status noch offen">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-lg" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M4.475 5.458c-.284 0-.514-.237-.47-.517C4.28 3.24 5.576 2 7.825 2c2.25 0 3.767 1.36 3.767 3.215 0 1.344-.665 2.288-1.79 2.973-1.1.659-1.414 1.118-1.414 2.01v.03a.5.5 0 0 1-.5.5h-.77a.5.5 0 0 1-.5-.495l-.003-.2c-.043-1.221.477-2.001 1.645-2.712 1.03-.632 1.397-1.135 1.397-2.028 0-.979-.758-1.698-1.926-1.698-1.009 0-1.71.529-1.938 1.402-.066.254-.278.461-.54.461h-.777ZM7.496 14c.622 0 1.095-.474 1.095-1.09 0-.618-.473-1.092-1.095-1.092-.606 0-1.087.474-1.087 1.091S6.89 14 7.496 14Z"/>
                  </svg>
                </div>
                <div *ngIf="offer.accepted === true" title="Angenommen">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-lg" viewBox="0 0 16 16">
                    <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>
                  </svg>
                </div>
                <div *ngIf="offer.accepted === false" title="Abgelehnt">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                  </svg>
                </div>
              </h3>
              <div class="card-tools">
                <div typeof="button" class="btn btn-primary" [routerLink]="'/angebot/uebersicht/' + offer.id">
                  Ansehen
                </div>
              </div>
            </div>
            <div class="card-body">
              Anzahl Teile: {{offer.partCount}}<br>
              Preis: {{offer.price}} €<br>
              Liefertermin: {{offer.completionDeadline}}<br>
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="btn btn-danger float-right c-delete" (click)="delete()">Anfrage löschen</div>
    </div>
    <div class="col-12">
      <button type="submit" class="btn btn-success float-right" (click)="createOffer()">Angebot erstellen</button>
    </div>
  </div>
</section>

